<div class="bg-gradient-to-br from-primary-600 to-secondary-700 text-white rounded-xl shadow-lg p-6"
     data-controller="pomodoro"
     data-pomodoro-session-id-value="<%= focus_session.id %>"
     data-pomodoro-timer-data-value='<%= focus_session.timer_data.to_json %>'>
  <h3 class="text-xl font-bold mb-2">Focus Session Active</h3>
  <p class="text-primary-100 mb-4" data-pomodoro-target="taskName"><%= focus_session.task.title %></p>

  <div class="text-3xl font-mono mb-4" data-pomodoro-target="timer">
    <%= "%02d:%02d" % [focus_session.calculate_elapsed_seconds / 60, focus_session.calculate_elapsed_seconds % 60] %>
  </div>

  <div class="space-y-2">
    <button class="block w-full px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors text-center"
            data-pomodoro-target="pauseButton"
            data-action="click->pomodoro#pause"
            style="<%= focus_session.timer_state == 'running' ? '' : 'display: none' %>">
      Pause
    </button>

    <button class="block w-full px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors text-center"
            data-pomodoro-target="resumeButton"
            data-action="click->pomodoro#resume"
            style="<%= focus_session.timer_state == 'paused' ? '' : 'display: none' %>">
      Resume
    </button>

    <button class="w-full px-4 py-2 bg-yellow-400/20 hover:bg-yellow-400/30 rounded-lg transition-colors text-center"
            data-action="click->pomodoro#addInterruption">
      <span class="text-yellow-200">⚠️ Mark Interruption</span>
      <% if focus_session.interruptions && focus_session.interruptions > 0 %>
        <span class="ml-2 text-xs bg-yellow-400/30 px-2 py-1 rounded-full">
          <%= focus_session.interruptions %>
        </span>
      <% end %>
    </button>

    <%= button_to "End Session",
                  end_session_focus_session_path(focus_session),
                  method: :post,
                  class: "w-full px-4 py-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg transition-colors text-red-100 text-center" %>
  </div>
</div>
